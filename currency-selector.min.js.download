"use strict";(()=>{var e=Object.getOwnPropertyNames,o=(o,t)=>function(){return t||(0,o[e(o)[0]])((t={exports:{}}).exports,t),t.exports},t=o({"src/Console.js"(e,o){var t=e=>`[WooCommerce-Multicurrency-Selector] ${e}`,r=(e,o)=>{let t=(new Error).stack.split("\n");return t.shift(),{level:e,timestamp:(new Date).toLocaleString(),url:window.location.href,trace:t}},c=(e,o)=>{if("object"==typeof woomc&&"Y"===woomc.console_log)switch(o){case"DEBUG":console.debug(t(e),r(o));break;case"ERROR":console.error(t(e),r(o));break;case"INFO":console.info(t(e),r(o));break;case"LOG":console.log(t(e),r(o));break;case"WARN":console.warn(t(e),r(o))}};o.exports={debug:e=>c(e,"DEBUG"),error:e=>c(e,"ERROR"),info:e=>c(e,"INFO"),log:e=>c(e,"LOG"),warn:e=>c(e,"WARN")}}}),r=o({"src/Prerequisites.js"(e,o){var r=t(),c=()=>{document.querySelectorAll(".woocommerce-currency-selector").forEach((e=>{e.disabled=!0,e.style.opacity=".2"}))};o.exports={met:()=>"undefined"==typeof woomc?(r.error("Internal Error: Undefined 'woomc'."),c(),!1):navigator.cookieEnabled?(r.debug("Selector prerequisites met."),!0):(r.error("Cookies disabled in the browser. Currency selector will not work."),c(),!1)}}}),c=o({"src/CurrencyCookie.js"(e,o){var t=e=>document.cookie.split(";").some((o=>o.includes(`${woomc.cookieSettings.name}=${e}`)));o.exports={get:()=>document.cookie.split(";").some((e=>e.trim().startsWith(woomc.cookieSettings.name)))?document.cookie.split("; ").find((e=>e.startsWith(woomc.cookieSettings.name))).split("=")[1]:"",set:e=>{document.cookie=`${woomc.cookieSettings.name}=${e};path=/;max-age=${woomc.cookieSettings.expires};samesite=strict`},equals:t,notAsCached:()=>!t(woomc.currency)}}}),n=o({"src/Reloaded.js"(e,o){var t="woocommerce-multicurrency-reloaded";o.exports={set:()=>{document.cookie=`${t}=1;samesite=strict`},unset:()=>{document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;samesite=strict`},isSet:()=>document.cookie.split(";").some((e=>e.trim().startsWith(`${t}=`)))}}}),s=o({"src/Page.js"(e,o){o.exports={reload:()=>{n().set(),jQuery("<form>",{method:"post",action:woomc.currentURL}).appendTo(document.body).submit()}}}}),i=o({"src/Currency.js"(e,o){var t=c(),r=s();o.exports={change:function(e){const o=jQuery(document.body);t.set(e),o.trigger("wc_fragment_refresh");let c=setTimeout(r.reload,2e3);o.on("wc_fragments_refreshed",(function(){clearTimeout(c),r.reload()}))}}}}),a=o({"src/flags/Setup.js"(e,o){o.exports={go:e=>{e.widget("custom.iconSelectMenu",e.ui.selectmenu,{_drawButton:function(){let o,t,r;this._super(),this._parseOption?(o=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex),t=this.buttonItem):(o=this.element.find("option:selected")[0],t=this.button.find(".ui-selectmenu-text")),r=o.value,e("<span>",{class:"currency-flag currency-flag-"+r.toLowerCase()}).prependTo(t)},_renderMenu:function(o,t){this._super(o,t),e(o).parent().addClass("woocommerce-currency-selector-dropdown")},_renderItem:function(o,t){let r=this._super(o,t),c=r.find("div");return c.length||(r.wrapInner(e("<div>")),c=r.find("div")),c.addClass("woocommerce-currency-selector-option"),e("<span>",{class:"currency-flag currency-flag-"+t.value.toLowerCase()}).prependTo(c),r},_resizeButton:function(){this._super();let e=this.button.outerWidth();this.button.outerWidth(e+18)}})}}}}),u=o({"src/flags/Hook.js"(e,o){var t=i();o.exports={go:e=>{e(woomc_currency_selector.currencySelectorDOM).each((function(){e(this).data("flag")&&e(this).iconSelectMenu({icons:{button:""},change:function(e,o){t.change(o.item.value)}})}))}}}}),l=o({"src/flags/Style.js"(e,o){o.exports={go:e=>{var o=e(woomc_currency_selector.currencySelectorDOM),t=".woocommerce-currency-selector-wrap .ui-widget {",r=["background","border-radius","color","padding"];/firefox/.test(navigator.userAgent.toLowerCase())||(r=r.concat(["border"])),r.forEach((function(e){var r=o.css(e);r&&(t+=e+":"+r+";")})),t+="padding-left: 2px;",t+="}";var c=[e("<link>",{id:"woocommerce-currency-selector-css",rel:"stylesheet",type:"text/css",href:woomc_currency_selector.url.currencySelectorCSS}),e("<style>",{id:"woocommerce-currency-selector-theme-css",type:"text/css"}).text(t)],n=e("head title");n.length?n.first().after(c):e(document.head).prepend(c)}}}}),d=o({"src/flags/index.js"(e,o){o.exports={go:e=>{"function"==typeof e.widget&&void 0!==e.ui&&(a().go(e),u().go(e),l().go(e))}}}}),m=t(),p=r(),f=i(),g=d();jQuery((function(e){if(!p.met())return;e(woomc_currency_selector.currencySelectorDOM).on("change",(function(){f.change(this.value)})),e(woomc_currency_selector.currencySelectorDOM+"[data-flag=1]").length&&g.go(e);const o=new MutationObserver((function(o){o.forEach((function(o){o.addedNodes&&o.addedNodes.length>0&&e(o.addedNodes).each((function(o,t){e(t).find(woomc_currency_selector.currencySelectorDOM).on("change",(function(){f.change(this.value)}))}))}))})),{body:t}=document;o.observe(t,{childList:!0}),m.debug("The End.")}))})();